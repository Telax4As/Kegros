<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KegrosKZ | AI-–ü–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <header class="main-header">
        <div class="container">
            <nav class="navbar">
                <a href="index.html" class="logo">
                    <span class="logo-icon"><i class="fas fa-graduation-cap"></i></span>
                    <span class="logo-text">Kegros<span class="logo-highlight">KZ</span></span>
                </a>
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="chat.html" class="nav-link active"><i class="fas fa-robot"></i> AI-–ü–æ–º–æ—â–Ω–∏–∫</a></li>
                    <li><a href="#about" class="nav-link"><i class="fas fa-info-circle"></i> –û –ø—Ä–æ–µ–∫—Ç–µ</a></li>
                </ul>
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </nav>
        </div>
    </header>

    <section class="hero-section">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title glitch" data-text="AI-–ü–û–ú–û–©–ù–ò–ö">AI-–ü–û–ú–û–©–ù–ò–ö</h1>
                <p class="hero-subtitle">Kegros<span class="highlight">AI</span> ‚Äî —Ç–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –≥–∏–¥ –ø–æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é</p>
                <p class="hero-desc">–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—Ç–∏—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –æ –≤—É–∑–∞—Ö –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞. 24/7 –ø–æ–º–æ—â—å –≤ –≤—ã–±–æ—Ä–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –ï–ù–¢ –∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏.</p>
                <div class="hero-stats">
                    <div class="stat">
                        <div class="stat-number">1000+</div>
                        <div class="stat-label">—Å—Ç—É–¥–µ–Ω—Ç–∞–º –ø–æ–º–æ–≥</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">24 / 7</div>
                        <div class="stat-label">—Ä–∞–±–æ—Ç–∞–µ—Ç</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">98%</div>
                        <div class="stat-label">—Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤</div>
                    </div>
                </div>
            </div>
            <div class="hero-image">
                <div class="ai-avatar">
                    <div class="avatar-circle">
                        <i class="fas fa-robot"></i>
                        <div class="pulse-ring"></div>
                        <div class="pulse-ring delay-1"></div>
                        <div class="pulse-ring delay-2"></div>
                    </div>
                    <h3 style="color: var(--eva-green); margin-top: 20px;">Kegros<span class="highlight">AI</span></h3>
                    <p style="color: var(--eva-cyan);">AI-–ø–æ–º–æ—â–Ω–∏–∫ –æ–Ω–ª–∞–π–Ω</p>
                </div>
            </div>
        </div>
        <div class="pulse-orb orb-1"></div>
        <div class="pulse-orb orb-2"></div>
    </section>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç -->
    <div class="container" style="margin-top: 50px; margin-bottom: 100px;">
        <div class="chat-container">
            <div class="chat-header">
                <div class="chat-bot-info">
                    <div class="bot-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div>
                        <h3 style="color: var(--eva-cyan); margin: 0;">Kegros<span class="highlight">AI</span></h3>
                        <p class="bot-status"><span class="status-indicator"></span> –û–Ω–ª–∞–π–Ω ‚Ä¢ –û—Ç–≤–µ—á–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ</p>
                    </div>
                </div>
                <div class="chat-actions">
                    <button class="btn btn-small" id="clearChat">
                        <i class="fas fa-trash"></i> –û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç
                    </button>
                    <button class="btn btn-small btn-primary btn-mr" id="newChat">
                        <i class="fas fa-plus"></i> –ù–æ–≤—ã–π —á–∞—Ç
                    </button>
                </div>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
                <div class="message bot-message">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-text">
                            üéì <strong>–ü—Ä–∏–≤–µ—Ç! –Ø KegrosAI ‚Äî —Ç–≤–æ–π AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –≤—É–∑—ã –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞!</strong>
                        </div>
                        <div class="message-text">
                            –Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Ç–µ–±–µ —Å:
                            <br>‚Ä¢ ü§î <strong>–í—ã–±–æ—Ä–æ–º —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞</strong> –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º –∏ –±–∞–ª–ª–∞–º
                            <br>‚Ä¢ üìù <strong>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–æ–π –∫ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é</strong> –∏ –ï–ù–¢
                            <br>‚Ä¢ üí∞ <strong>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏</strong> (–≥—Ä–∞–Ω—Ç—ã, —Å—Ç–∏–ø–µ–Ω–¥–∏–∏, —Å—Ç–æ–∏–º–æ—Å—Ç—å)
                            <br>‚Ä¢ üè† <strong>–ñ–∏–∑–Ω—å—é —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</strong> (–æ–±—â–µ–∂–∏—Ç–∏—è, –∫–∞–º–ø—É—Å, –≤–Ω–µ—É—á–µ–±–∫–∞)
                            <br>‚Ä¢ üéØ <strong>–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –≤—É–∑–∞–º–∏</strong> (–ù–£, –ö–ë–¢–£, –ú–£–ò–¢ –∏ –¥—Ä—É–≥–∏–µ)
                        </div>
                        <div class="message-text">
                            üí° <strong>–ü—Ä–æ—Å—Ç–æ –∑–∞–¥–∞–π —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å –Ω–∏–∂–µ!</strong> –ù–∞–ø—Ä–∏–º–µ—Ä:
                            <br>"–ö–∞–∫–∏–µ IT-–≤—É–∑—ã –≤ –ê–ª–º–∞—Ç—ã?"
                            <br>"–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –≥—Ä–∞–Ω—Ç –≤ –ù–£?"
                            <br>"–°—Ä–∞–≤–Ω–∏ –ö–ë–¢–£ –∏ –ú–£–ò–¢ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è"
                        </div>
                        <div class="message-time">–¢–æ–ª—å–∫–æ —á—Ç–æ</div>
                    </div>
                </div>
            </div>
            
            <div class="chat-input-area">
                <div class="quick-questions">
                    <span style="color: var(--gray-text); margin-right: 10px;">–ë—ã—Å—Ç—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã:</span>
                    <button class="quick-btn" data-question="–ö–∞–∫–∏–µ IT-–≤—É–∑—ã –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ –ª—É—á—à–∏–µ?">
                        <i class="fas fa-laptop-code"></i> IT-–≤—É–∑—ã
                    </button>
                    <button class="quick-btn" data-question="–ö–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å –≤ –ù–∞–∑–∞—Ä–±–∞–µ–≤ –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç?">
                        <i class="fas fa-university"></i> –ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –ù–£
                    </button>
                    <button class="quick-btn" data-question="–°–∫–æ–ª—å–∫–æ —Å—Ç–æ—è—Ç –æ–±—â–µ–∂–∏—Ç–∏—è –≤ –ê–ª–º–∞—Ç—ã?">
                        <i class="fas fa-bed"></i> –û–±—â–µ–∂–∏—Ç–∏—è
                    </button>
                    <button class="quick-btn" data-question="–ö–∞–∫–∏–µ –≥—Ä–∞–Ω—Ç—ã –µ—Å—Ç—å –¥–ª—è 2024 –≥–æ–¥–∞?">
                        <i class="fas fa-award"></i> –ì—Ä–∞–Ω—Ç—ã
                    </button>
                </div>
                
                <div class="input-wrapper">
                    <input type="text" id="messageInput" placeholder="–ù–∞–ø–∏—à–∏ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å... (–Ω–∞–ø—Ä–∏–º–µ—Ä: '–ü–æ–º–æ–≥–∏ –≤—ã–±—Ä–∞—Ç—å –≤—É–∑ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è')">
                    <button id="sendMessage" class="btn btn-primary">
                        <i class="fas fa-paper-plane"> </i>  –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
                    </button>
                </div>
                
                <div class="input-hint">
                    <i class="fas fa-info-circle"></i> AI-–ø–æ–º–æ—â–Ω–∏–∫ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞—Ö –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞
                </div>
            </div>
        </div>
    </div>

    <footer id="about" class="main-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <a href="index.html" class="logo">
                        <span class="logo-icon"><i class="fas fa-graduation-cap"></i></span>
                        <span class="logo-text">Kegros<span class="logo-highlight">KZ</span></span>
                    </a>
                    <p>AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞.</p>
                </div>
                <div class="footer-links">
                    <h4>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h4>
                    <ul>
                        <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a></li>
                        <li><a href="nu.html">–ù–∞–∑–∞—Ä–±–∞–µ–≤ –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</a></li>
                        <li><a href="kbtu.html">–ö–ë–¢–£</a></li>
                        <li><a href="iitu.html">–ú–£–ò–¢/IITU</a></li>
                        <li><a href="chat.html">AI-–ü–æ–º–æ—â–Ω–∏–∫</a></li>
                    </ul>
                </div>
                <div class="footer-cta">
                    <h4>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?</h4>
                    <p>AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–æ—Å—Ç—É–ø–µ–Ω 24/7 –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã.</p>
                    <a href="#chatMessages" class="btn btn-primary1">–ù–ê–ß–ê–¢–¨ –û–ë–©–ï–ù–ò–ï <i class="fas fa-comment-alt"></i></a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 KegrosKZ. AI-–ü–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞.</p>
                <p>–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.</p>
            </div>
        </div>
    </footer>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentSessionId = 'chat_' + Date.now();
        let isAIOnline = false;
        const API_URL = 'http://localhost:5000'; // –ê–¥—Ä–µ—Å —Ç–≤–æ–µ–≥–æ Flask —Å–µ—Ä–≤–µ—Ä–∞
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
        async function checkServerConnection() {
            try {
                const response = await fetch(API_URL + '/api/status');
                if (response.ok) {
                    const data = await response.json();
                    isAIOnline = data.ai_status === 'connected';
                    console.log('‚úÖ –°–µ—Ä–≤–µ—Ä AI –ø–æ–¥–∫–ª—é—á–µ–Ω:', data);
                    return true;
                }
            } catch (error) {
                console.log('‚ùå –°–µ—Ä–≤–µ—Ä AI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ó–∞–ø—É—Å—Ç–∏ Flask —Å–µ—Ä–≤–µ—Ä!');
                isAIOnline = false;
            }
            return false;
        }
        
        
        
        // –°–æ–∑–¥–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç —Å—Ç–∞—Ç—É—Å–∞
        function createStatusElement() {
            const statusDiv = document.createElement('div');
            statusDiv.id = 'connectionStatus';
            statusDiv.className = 'connection-status';
            document.querySelector('.chat-header').appendChild(statusDiv);
            return statusDiv;
        }
        
        // –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç
        function addMessage(text, isUser = false, showTime = true) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = isUser ? 'message user-message' : 'message bot-message';
            
            const time = showTime ? new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}) : '';
            
            messageDiv.innerHTML = `
                <div class="message-avatar">
                    <i class="fas ${isUser ? 'fa-user' : 'fa-robot'}"></i>
                </div>
                <div class="message-content">
                    <div class="message-text">${text}</div>
                    ${showTime ? `<div class="message-time">${time}</div>` : ''}
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return messageDiv;
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ø–µ—á–∞—Ç–∞–µ—Ç"
        function showTypingIndicator() {
            const chatMessages = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot-message typing-indicator';
            typingDiv.id = 'typingIndicator';
            
            typingDiv.innerHTML = `
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    <div class="message-text">
                        <span class="typing-dots">
                            <span>.</span><span>.</span><span>.</span>
                        </span> KegrosAI –ø–µ—á–∞—Ç–∞–µ—Ç
                    </div>
                </div>
            `;
            
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // –£–±—Ä–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ø–µ—á–∞—Ç–∞–µ—Ç"
        function hideTypingIndicator() {
            const typing = document.getElementById('typingIndicator');
            if (typing) typing.remove();
        }
        
        // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∫ AI (–æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥)
        async function sendToAI(message) {
            if (!isAIOnline) {
                // –î–µ–º–æ-—Ä–µ–∂–∏–º –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
                return getDemoResponse(message);
            }
            
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º endpoint /api/chat —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏
                const response = await fetch(API_URL + '/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: message,
                        session_id: currentSessionId
                    })
                });
                
                if (!response.ok) {
                    throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞');
                }
                
                const data = await response.json();
                return data.response || data.answer;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ AI:', error);
                return `‚ö†Ô∏è <strong>–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ AI</strong><br><br>
                        –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É AI.<br>
                        <em>–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:</em><br>
                        1. –£–±–µ–¥–∏—Å—å —á—Ç–æ –∑–∞–ø—É—â–µ–Ω —Ñ–∞–π–ª —Å Flask —Å–µ—Ä–≤–µ—Ä–æ–º<br>
                        2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ—Ä—Ç 5000 —Å–≤–æ–±–æ–¥–µ–Ω<br>
                        3. –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–∫–∞ –¥–µ–º–æ-–æ—Ç–≤–µ—Ç—ã –∏–∑ –±—ã—Å—Ç—Ä—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤`;
            }
        }
        
        // –î–µ–º–æ-–æ—Ç–≤–µ—Ç—ã –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
        function getDemoResponse(question) {
            const demoResponses = {
                "–ø—Ä–∏–≤–µ—Ç": `üéì <strong>KegrosAI (KegrosKZ):</strong> –ü—Ä–∏–≤–µ—Ç! –Ø AI-–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∞–±–∏—Ç—É—Ä–∏–µ–Ω—Ç–æ–≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞. –ü–æ–º–æ–≥—É –≤—ã–±—Ä–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é –∏ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã!`,
                
                "–∫–∞–∫–∏–µ –≤—É–∑—ã –µ—Å—Ç—å": `üè´ <strong>–ù–∞ KegrosKZ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã:</strong><br><br>
                ‚Ä¢ <strong>–ù–∞–∑–∞—Ä–±–∞–µ–≤ –£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç</strong> (9.8/10) - —Ç–æ–ø-1<br>
                ‚Ä¢ <strong>–ö–ë–¢–£</strong> (8.2/10) - –ª—É—á—à–∏–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π<br>
                ‚Ä¢ <strong>–ú–£–ò–¢/IITU</strong> (7.5/10) - IT-–≤—É–∑ ‚Ññ1<br>
                ‚Ä¢ <strong>–ö–∞–∑–ù–£ –∏–º. –ê–ª—å-–§–∞—Ä–∞–±–∏</strong> (7.9/10)<br>
                ‚Ä¢ <strong>–ï–ù–£ –∏–º. –ì—É–º–∏–ª–µ–≤–∞</strong> (7.3/10)<br>
                ‚Ä¢ <strong>–ö–∞–∑–ù–ò–¢–£ –∏–º. –°–∞—Ç–ø–∞–µ–≤–∞</strong> (8.0/10)`,
                
                "–∫–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å –≤ –Ω—É": `üéØ <strong>–ü–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ –ù–£:</strong><br><br>
                <strong>–°—Ä–æ–∫–∏:</strong><br>
                ‚Ä¢ –î–µ–∫–∞–±—Ä—å-–§–µ–≤—Ä–∞–ª—å: –ø–æ–¥–∞—á–∞ –∑–∞—è–≤–æ–∫<br>
                ‚Ä¢ –ú–∞—Ä—Ç-–ê–ø—Ä–µ–ª—å: —ç–∫–∑–∞–º–µ–Ω—ã<br>
                ‚Ä¢ –ê–ø—Ä–µ–ª—å-–ú–∞–π: —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è<br>
                ‚Ä¢ –ò—é–Ω—å: —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã<br><br>
                <strong>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:</strong><br>
                ‚Ä¢ –ê—Ç—Ç–µ—Å—Ç–∞—Ç 4.8+ GPA<br>
                ‚Ä¢ SAT/ACT –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ<br>
                ‚Ä¢ IELTS 6.5+<br>
                ‚Ä¢ –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ<br>
                ‚Ä¢ 2 —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏`,
                
                "—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –∫–±—Ç—É": `üí∞ <strong>–ö–ë–¢–£ - —Å—Ç–æ–∏–º–æ—Å—Ç—å:</strong><br><br>
                ‚Ä¢ –û–±—É—á–µ–Ω–∏–µ: 2.5-3 –º–ª–Ω —Ç–µ–Ω–≥–µ/–≥–æ–¥<br>
                ‚Ä¢ –ì—Ä–∞–Ω—Ç—ã: 25% –Ω–∞ –∫–∞–∂–¥–æ–º —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–µ<br>
                ‚Ä¢ –û–±—â–µ–∂–∏—Ç–∏–µ: 150,000-200,000 —Ç–µ–Ω–≥–µ/—Å–µ–º–µ—Å—Ç—Ä<br>
                ‚Ä¢ –î–æ–ø. —Ä–∞—Å—Ö–æ–¥—ã: ~500,000 —Ç–µ–Ω–≥–µ/–≥–æ–¥<br><br>
                <em>–ü—Ä–∏ –≤—ã—Å–æ–∫–∏—Ö –±–∞–ª–ª–∞—Ö –ï–ù–¢ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≥—Ä–∞–Ω—Ç!</em>`,
                
                "–º—É–∏—Ç it": `üíª <strong>–ú–£–ò–¢ (IITU) –¥–ª—è IT:</strong><br><br>
                ‚Ä¢ –†–µ–π—Ç–∏–Ω–≥ KegrosKZ: 7.5/10<br>
                ‚Ä¢ –¢—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: 98% –≤ IT<br>
                ‚Ä¢ –ó–∞—Ä–ø–ª–∞—Ç–∞ –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤: 1.2M —Ç–µ–Ω–≥–µ<br>
                ‚Ä¢ –•–∞–∫–∞—Ç–æ–Ω—ã: –∫–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏<br>
                ‚Ä¢ –ì—Ä–∞–Ω—Ç—ã: 30% –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è<br>
                ‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å: 2.8-3.5 –º–ª–Ω/–≥–æ–¥<br><br>
                <strong>–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –±—É–¥—É—â–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤!</strong>`,
                
                "–≥—Ä–∞–Ω—Ç—ã 2025": `üèÜ <strong>–ì—Ä–∞–Ω—Ç—ã 2025:</strong><br><br>
                <strong>–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ:</strong><br>
                ‚Ä¢ –ü–æ –±–∞–ª–ª–∞–º –ï–ù–¢ (120+)<br>
                ‚Ä¢ –¶–µ–ª–µ–≤—ã–µ –æ—Ç –∫–æ–º–ø–∞–Ω–∏–π<br>
                ‚Ä¢ –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ "–ë–æ–ª–∞—à–∞–∫"<br><br>
                <strong>–ü–æ –≤—É–∑–∞–º:</strong><br>
                ‚Ä¢ –ù–£: 80% –º–µ—Å—Ç –Ω–∞ –≥—Ä–∞–Ω—Ç–∞—Ö<br>
                ‚Ä¢ –ú–£–ò–¢: 30% –≥—Ä–∞–Ω—Ç–æ–≤, 30% —Å–∫–∏–¥–æ–∫<br>
                ‚Ä¢ –ö–ë–¢–£: 25% –≥—Ä–∞–Ω—Ç–æ–≤<br><br>
                <strong>–°—Ç–∏–ø–µ–Ω–¥–∏–∏:</strong><br>
                ‚Ä¢ –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∞—è: 100,000 —Ç–µ–Ω–≥–µ/–º–µ—Å—è—Ü<br>
                ‚Ä¢ –ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–µ–Ω–Ω–∞—è: 50,000 —Ç–µ–Ω–≥–µ/–º–µ—Å—è—Ü`
            };
            
            const lowerQuestion = question.toLowerCase();
            
            // –ò—â–µ–º —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
            if (demoResponses[lowerQuestion]) {
                return demoResponses[lowerQuestion];
            }
            
            // –ò—â–µ–º –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
            for (const [key, response] of Object.entries(demoResponses)) {
                if (lowerQuestion.includes(key) && key.length > 3) {
                    return response;
                }
            }
            
            // –û–±—â–∏–π –æ—Ç–≤–µ—Ç
            /*return `ü§ñ <strong>–ê–±–∏—Ç–£–º (–¥–µ–º–æ-—Ä–µ–∂–∏–º):</strong><br><br>
                    –í–∞—à –≤–æ–ø—Ä–æ—Å: <em>"${question}"</em><br><br>
                    –í –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Å Gemini AI —è –±—ã –¥–∞–ª –ø–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑.<br><br>
                    <strong>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–¥–∏–Ω –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤:</strong><br>
                    ‚Ä¢ "–ö–∞–∫–∏–µ –≤—É–∑—ã –µ—Å—Ç—å"<br>
                    ‚Ä¢ "–ö–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å –≤ –ù–£"<br>
                    ‚Ä¢ "–°–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç –ö–ë–¢–£"<br>
                    ‚Ä¢ "–ú–£–ò–¢ IT"<br>
                    ‚Ä¢ "–ì—Ä–∞–Ω—Ç—ã 2025"`;*/
        }
        
        // –û—á–∏—Å—Ç–∫–∞ —á–∞—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
        async function clearChatHistory() {
            try {
                await fetch(API_URL + '/api/clear', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({session_id: currentSessionId})
                });
            } catch (error) {
                console.log('–°–µ—Ä–≤–µ—Ä –æ—á–∏—Å—Ç–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω');
            }
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞
        async function createNewChat() {
            try {
                const response = await fetch(API_URL + '/api/new', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({
                        session_id: currentSessionId,
                        clear_old: true
                    })
                });
                
                if (response.ok) {
                    const data = await response.json();
                    currentSessionId = data.new_session_id;
                    return currentSessionId;
                }
            } catch (error) {
                // –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π ID
                currentSessionId = 'chat_' + Date.now();
            }
            return currentSessionId;
        }
        
        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
        async function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            const message = messageInput.value.trim();
            
            if (!message) return;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessage(message, true);
            messageInput.value = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏
            showTypingIndicator();
            
            // –ü–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç –æ—Ç AI
            const aiResponse = await sendToAI(message);
            
            // –£–±–∏—Ä–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–≤–µ—Ç
            hideTypingIndicator();
            addMessage(aiResponse, false);
            
            // –§–æ–∫—É—Å –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞
            messageInput.focus();
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            const chatMessages = document.getElementById('chatMessages');
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendMessage');
            const clearButton = document.getElementById('clearChat');
            const newChatButton = document.getElementById('newChat');
            const quickButtons = document.querySelectorAll('.quick-btn');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
            checkServerConnection().then(() => {
                updateConnectionStatus();
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            setInterval(async () => {
                await checkServerConnection();
                updateConnectionStatus();
            }, 30000);
            
            // –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ –≤–æ–ø—Ä–æ—Å–æ–≤
            quickButtons.forEach(btn => {
                btn.addEventListener('click', async function() {
                    const question = this.getAttribute('data-question');
                    messageInput.value = question;
                    await sendMessage();
                });
            });
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ Enter
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–Ω–æ–ø–∫–µ
            sendButton.addEventListener('click', sendMessage);
            
            // –û—á–∏—Å—Ç–∫–∞ —á–∞—Ç–∞
            clearButton.addEventListener('click', async function() {
                // –û—á–∏—â–∞–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
                await clearChatHistory();
                
                // –û—á–∏—â–∞–µ–º –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
                const messages = chatMessages.querySelectorAll('.message:not(:first-child)');
                messages.forEach(msg => msg.remove());
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                addMessage('üí¨ <strong>–ß–∞—Ç –æ—á–∏—â–µ–Ω.</strong> –ó–∞–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å!', false);
                
                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é
                currentSessionId = 'chat_' + Date.now();
            });
            
            // –ù–æ–≤—ã–π —á–∞—Ç
            newChatButton.addEventListener('click', async function() {
                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —á–∞—Ç
                await createNewChat();
                
                // –û—á–∏—â–∞–µ–º –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
                chatMessages.innerHTML = '';
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
                const welcomeMsg = document.createElement('div');
                welcomeMsg.className = 'message bot-message';
                welcomeMsg.innerHTML = `
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-text">
                            üéì <strong>–ù–æ–≤—ã–π —á–∞—Ç –Ω–∞—á–∞—Ç!</strong> –Ø KegrosAI ‚Äî AI-–ø–æ–º–æ—â–Ω–∏–∫ –æ—Ç KegrosKZ.
                        </div>
                        <div class="message-text">
                            –ü–æ–º–æ–≥—É —Å –≤—ã–±–æ—Ä–æ–º —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–æ–π –∫ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é –∏ –ª—é–±—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –æ –≤—É–∑–∞—Ö –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞!
                        </div>
                        <div class="message-text">
                            üí° <strong>–°–ø—Ä–æ—Å–∏ –º–µ–Ω—è –æ:</strong><br>
                            ‚Ä¢ –†–µ–π—Ç–∏–Ω–≥–∞—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–æ–≤<br>
                            ‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç–∏ –æ–±—É—á–µ–Ω–∏—è<br>
                            ‚Ä¢ –ì—Ä–∞–Ω—Ç–∞—Ö –∏ —Å—Ç–∏–ø–µ–Ω–¥–∏—è—Ö<br>
                            ‚Ä¢ –ü—Ä–æ—Ü–µ—Å—Å–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è<br>
                            ‚Ä¢ –ö–∞—Ä—å–µ—Ä–Ω—ã—Ö –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞—Ö
                        </div>
                        <div class="message-time">–¢–æ–ª—å–∫–æ —á—Ç–æ</div>
                    </div>
                `;
                chatMessages.appendChild(welcomeMsg);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
                updateConnectionStatus();
            });
            
            // –ê–≤—Ç–æ—Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞
            messageInput.focus();
            
            // –î–æ–±–∞–≤–ª—è–µ–º CSS –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø–µ—á–∞—Ç–∏
            const style = document.createElement('style');
            style.textContent = `
                .typing-indicator .message-text {
                    color: var(--gray-text);
                    font-style: italic;
                }
                
                .typing-dots {
                    display: inline-block;
                }
                
                .typing-dots span {
                    animation: typingDot 1.4s infinite;
                    opacity: 0.3;
                }
                
                .typing-dots span:nth-child(1) { animation-delay: 0s; }
                .typing-dots span:nth-child(2) { animation-delay: 0.2s; }
                .typing-dots span:nth-child(3) { animation-delay: 0.4s; }
                
                @keyframes typingDot {
                    0%, 100% { opacity: 0.3; }
                    50% { opacity: 1; }
                }
                
                .connection-status {
                    position: absolute;
                    right: 20px;
                    top: 50%;
                    transform: translateY(-50%);
                    padding: 5px 12px;
                    border-radius: 15px;
                    font-size: 0.8rem;
                    display: flex;
                    align-items: center;
                    gap: 6px;
                }
                
                .connection-status.connected {
                    background: rgba(0, 255, 65, 0.1);
                    color: var(--eva-green);
                    border: 1px solid var(--eva-green);
                }
                
                .connection-status.disconnected {
                    background: rgba(255, 68, 68, 0.1);
                    color: #ff4444;
                    border: 1px solid #ff4444;
                }
                
                .connection-status .status-indicator {
                    width: 8px;
                    height: 8px;
                    border-radius: 50%;
                    display: inline-block;
                }
                
                .chat-header {
                    position: relative;
                }
            `;
            document.head.appendChild(style);
        });
        
        // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        window.chatFunctions = {
            sendMessage,
            clearChatHistory,
            createNewChat,
            checkServerConnection,
            get currentSessionId() { return currentSessionId; },
            get isAIOnline() { return isAIOnline; }
        };
    </script>
</body>
</html>